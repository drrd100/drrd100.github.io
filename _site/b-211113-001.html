<!DOCTYPE html>
<html lang="ko" data-theme="light">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>자바스크립트 URL 파라미터 가져오기 location.search - 양사장의 끄적끄적</title>
		<meta name="description" content="코린이의 메모장">
		<meta name="keywords" content="blogJQJS">
		<base href="http://localhost:4000" />
		
    	<meta content="2021-11-13T09:00:00+09:00" property="article:published_time">
    	<meta content="http://localhost:4000/about/" property="article:author">
  		
		<meta property="og:site_name" content="양사장의 끄적끄적">
		<meta property="og:type" content="article" />
		<meta property="og:url" content="http://localhost:4000/b-211113-001"/>
		<meta property="og:title" content="자바스크립트 URL 파라미터 가져오기 location.search - 양사장의 끄적끄적" />
		<meta property="og:description" content="코린이의 메모장" />
		<meta property="og:image" content="http://localhost:4000/assets/images/favicon.png"/>
		<meta name="twitter:card" content="summary"/>
		<meta property="twitter:title" content="자바스크립트 URL 파라미터 가져오기 location.search - 양사장의 끄적끄적" />
		<meta property="twitter:description" content="코린이의 메모장" />
		<meta property="twitter:image" content="http://localhost:4000/assets/images/favicon.png" />
		<link rel="stylesheet" href="/assets/css/highlight.css">
		<link rel="stylesheet" href="/assets/css/style.css">
		<link rel="shortcut icon" href="/assets/images/favicon.png" />
		<link rel="alternate" type="application/atom+xml" title="양사장의 끄적끄적" href="http://localhost:4000/atom.xml">
		<link rel="alternate" type="application/json" title="양사장의 끄적끄적" href="http://localhost:4000/feed.json" />
		<link rel="sitemap" type="application/xml" title="sitemap" href="http://localhost:4000/sitemap.xml" />
		<meta name="google-site-verification" content="" />
	</head>
<body>
<div class="container yeol">
	<div class="profile">
		<a href="http://localhost:4000" class="profile-image"></a>
		<div class="profile-about">
			<h2 style="margin-bottom: 0; font-weight: 700;">양사장의 끄적끄적</h2>
			
			
			
				<a href="https://instagram.com/https://www.instagram.com/__.yeol.__/?hl=ko" target="_blank"><img src="assets/images/icon/instagram.svg" class="social-icon"></a>
			
			
			
			
			<a href="about"><img src="assets/images/icon/me.svg" class="social-icon"></a>
			<br>
			Cook 11년<br>Web dev 1년
			<br>
			<div class="mode" id="mode-switcher" onclick="toggleNightMode();">
				<span></span>
			</div>
		</div>
	</div>
	
<div class="post-header">
	<div class="post-date">13.11.2021</div>
	<div class="post-share">
		Share:&nbsp; 
		<a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/001" target="_blank"><img src="assets/images/icon/facebook.svg" class="social-icon"></a>
		<a href="https://twitter.com/intent/tweet?source=tweetbutton&amp;original_referer=http://localhost:4000/001&amp;text=자바스크립트 URL 파라미터 가져오기 location.search - http://localhost:4000/001" target="_blank"><img src="assets/images/icon/twitter.svg" class="social-icon"></a>
		<a href="https://api.whatsapp.com/send?text=http://localhost:4000/001" target="_blank"><img src="assets/images/icon/whatsapp.svg" class="social-icon"></a>
	</div>
</div>

<div class="blog-post-content">
	<h1>자바스크립트 URL 파라미터 가져오기 location.search</h1>
	<p><span class="code-title">현재 URL 파라미터 값을 구할 땐 loaction.search 를 써준다.</span></p>

<div class="content-img img211112">
    <div><img src="../assets/images/211112/url.jpg" alt="" /></div>
    <div><img src="../assets/images/211112/consloe.jpg" alt="" /></div>
</div>
<p><span class="code-desc">쇼핑몰 상품리스트에서 콘솔창에 location.search 를 입력한 결과.</span></p>

<p><span class="code-title">정규표현식을 이용하여 파라미터 얻어오기</span></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getParameterByName</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\[]</span><span class="sr">/</span><span class="p">,</span> <span class="dl">"</span><span class="se">\\</span><span class="s2">[</span><span class="dl">"</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\]]</span><span class="sr">/</span><span class="p">,</span> <span class="dl">"</span><span class="se">\\</span><span class="s2">]</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="dl">"</span><span class="s2">[</span><span class="se">\\</span><span class="s2">?&amp;]</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">=([^&amp;#]*)</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="nx">regex</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">results</span> <span class="o">==</span> <span class="kc">null</span>
    <span class="p">?</span> <span class="dl">""</span>
    <span class="p">:</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">results</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\+</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">""</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div>

<p><span class="code-desc">아..삼항 연산자가 자꾸 줄바꿈이 되네..</span></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">patId</span> <span class="o">=</span> <span class="nx">getParameterByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">cate_no</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// 60</span>
</code></pre></div></div>

<p><span class="code-desc">음 난 숫자만 필요하니까..</span></p>

<p><span class="code-title">파라미터 숫자만 추출</span></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">getloca</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="sr">/</span><span class="se">[^</span><span class="sr">0-9</span><span class="se">]</span><span class="sr">/g</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">getparm</span> <span class="o">=</span> <span class="nx">getloca</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">regex</span><span class="p">,</span> <span class="dl">""</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getparm</span><span class="p">);</span> <span class="c1">//60</span>
</code></pre></div></div>

<p><span class="code-desc">숫자만 구하기</span>
<span class="code-title">파라미터를 객체로 가져오는 함수</span></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">get_query</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">"</span><span class="s2">?</span><span class="dl">"</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{};</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">qs</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">qs</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="dl">"</span><span class="s2">=</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">result</span><span class="p">[</span><span class="nx">qs</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">qs</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">get_query</span><span class="p">();</span> <span class="c1">//result { cate_no: "60", }</span>
</code></pre></div></div>

<p><span class="code-desc">잘나온다 나중에 써봐야지</span></p>

<p><a href="https://fellowtuts.com/jquery/getting-query-string-values-in-javascript/?a=a" class="refer">출처</a></p>

</div>
<div class="tags-container">
	
		<a href="http://localhost:4000/tags/#blog" class="post-tag">blog</a>, 
	
		<a href="http://localhost:4000/tags/#JQ" class="post-tag">JQ</a>, 
	
		<a href="http://localhost:4000/tags/#JS" class="post-tag">JS</a>
	
</div>
<div class="navigation">
	
		<a class="prev" href="/b-211112">< 첫 블로그</a>
	 
	<a class="next" href="/b-211113-002">a테그 URL 파라미터 가져오기 attr() ></a>

</div>

	<div class="footer">
		<span>경험이 곧 돈이다.</span>
	</div>
</div>
	<script src="assets/js/ephesus.js"></script>
	<script type="text/javascript">
		if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
			document.documentElement.setAttribute('data-theme', 'dark');
			document.getElementById('mode-switcher').classList.add('active');
		}
	</script>

	
</body>
</html>